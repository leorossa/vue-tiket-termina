<template>
  <div class="admin-container admin-dashboard-layout">
    <h1 class="admin-main-title">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h1>

    <!-- –°–µ–∫—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div class="admin-card status-management-card">
      <h2 class="admin-section-title">–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
      <div class="api-mode-switcher">
        <span class="api-mode-label">–†–µ–∂–∏–º API:</span>
        <div class="api-mode-buttons">
          <button 
            @click="setApiMode('internal')" 
            :class="['admin-button', apiMode === 'internal' ? 'primary' : 'secondary']"
          >
            –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π
          </button>
          <button 
            @click="setApiMode('external')" 
            :class="['admin-button', apiMode === 'external' ? 'primary' : 'secondary']"
          >
            –í–Ω–µ—à–Ω–∏–π
          </button>
        </div>
      </div>
      <div class="system-stats">
        <p>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)...</p>
      </div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
    <div class="admin-card navigation-links-card">
      <h2 class="admin-section-title">–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã</h2>
      <nav class="dashboard-navigation-grid">
        <router-link v-for="link in adminLinks" :key="link.path" :to="link.path" class="navigation-item-card">
          <div class="nav-item-icon">{{ link.icon }}</div>
          <h3 class="nav-item-title">{{ link.name }}</h3>
          <p class="nav-item-description">{{ link.description }}</p>
        </router-link>
      </nav>
    </div>

    <!-- –°–µ–∫—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
    <div class="admin-card new-tools-card">
      <h2 class="admin-section-title">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h2>
      <p>–ú–µ—Å—Ç–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)...</p>
    </div>

  </div>
</template>

<script setup>
import { ref } from 'vue';

const apiMode = ref('internal'); // 'internal' or 'external'

const setApiMode = (mode) => {
  apiMode.value = mode;
  // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –¥–ª—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ API
  console.log(`API mode set to: ${mode}`);
};

const adminLinks = ref([
  {
    name: '–£—Å–ª—É–≥–∏',
    path: '/services', 
    icon: 'üõ†Ô∏è',
    description: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º —É—Å–ª—É–≥ –∏ –∞—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω–æ–≤.'
  },
  {
    name: '–°–º–µ–Ω—ã',
    path: '/shifts', 
    icon: '‚è≥',
    description: '–û—Ç–∫—Ä—ã—Ç–∏–µ, –∑–∞–∫—Ä—ã—Ç–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Å—Å–æ–≤—ã—Ö —Å–º–µ–Ω.'
  },
  {
    name: '–ó–∞–∫–∞–∑—ã',
    path: '/orders', 
    icon: 'üõí',
    description: '–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤.'
  },
  {
    name: '–û—Ç—á–µ—Ç—ã',
    path: '/reports', 
    icon: 'üìä',
    description: '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º.'
  },
  {
    name: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏',
    path: '/settings', 
    icon: '‚öôÔ∏è',
    description: '–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.'
  },
  {
    name: '–ó–∞–ø—É—Å—Ç–∏—Ç—å –¢–µ—Ä–º–∏–Ω–∞–ª',
    path: '/terminal',
    icon: 'üöÄ',
    description: '–û—Ç–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –±–∏–ª–µ—Ç–æ–≤.'
  },
  {
    name: '–í—ã—Ö–æ–¥',
    path: '/login', 
    icon: 'üö™',
    description: '–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ–∞–Ω—Å –∏ –≤—ã–π—Ç–∏ –∏–∑ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.'
  }
]);
</script>

<style scoped>
.admin-dashboard-layout {
  padding: 1.5em;
}

.admin-main-title {
  font-size: 1.8rem;
  color: var(--admin-text-primary, #1f2937);
  margin-bottom: 1em;
  text-align: center;
}

.admin-card {
  background-color: var(--admin-card-bg, #ffffff);
  border-radius: var(--admin-border-radius, 8px);
  padding: 1.5em;
  margin-bottom: 1.5em;
  box-shadow: var(--admin-card-shadow, 0 2px 4px rgba(0,0,0,0.05));
}

.admin-section-title {
  font-size: 1.3rem;
  color: var(--admin-text-secondary, #374151);
  padding-bottom: 0.5em;
  margin-top: 0; /* Remove default top margin */
  margin-bottom: 1em;
  border-bottom: 1px solid var(--admin-border-color, #e5e7eb);
}

/* –°–µ–∫—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
.status-management-card {
  /* Specific styles if any */
}

.api-mode-switcher {
  display: flex;
  align-items: center;
  gap: 1em;
  margin-bottom: 1em;
  flex-wrap: wrap;
}

.api-mode-label {
  font-weight: 500;
  color: var(--admin-text-secondary, #4b5563);
}

.api-mode-buttons .admin-button + .admin-button {
  margin-left: 0.5em;
}

.system-stats p {
  color: var(--admin-text-muted, #6b7280);
  font-style: italic;
}

/* –°–µ–∫—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
.navigation-links-card {
  /* Specific styles if any */
}

.dashboard-navigation-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1em;
}

.navigation-item-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 1.2em;
  background-color: var(--admin-light-gray, #f9fafb);
  border-radius: var(--admin-border-radius-sm, 6px);
  border: 1px solid var(--admin-border-color, #e5e7eb);
  text-decoration: none;
  color: var(--admin-text-primary, #1f2937);
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.navigation-item-card:hover,
.navigation-item-card.router-link-exact-active {
  transform: translateY(-3px);
  box-shadow: var(--admin-hover-shadow, 0 4px 10px rgba(0,0,0,0.1));
  border-color: var(--admin-primary-color, #3b82f6);
  background-color: #fff;
}

.nav-item-icon {
  font-size: 2rem; /* Bigger icons */
  margin-bottom: 0.5em;
  color: var(--admin-primary-color, #3b82f6);
}

.nav-item-title {
  font-size: 1.1rem;
  font-weight: 600;
  margin-top: 0;
  margin-bottom: 0.3em;
  color: var(--admin-text-primary, #1f2937);
}

.nav-item-description {
  font-size: 0.85rem;
  color: var(--admin-text-secondary, #4b5563);
  line-height: 1.4;
}

/* –°–µ–∫—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ */
.new-tools-card p {
  color: var(--admin-text-muted, #6b7280);
  font-style: italic;
}
</style>
